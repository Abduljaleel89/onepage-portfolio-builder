"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/ai/generate";
exports.ids = ["pages/api/ai/generate"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai%5Cgenerate.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai%5Cgenerate.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_ai_generate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\ai\\generate.js */ \"(api)/./src/pages/api/ai/generate.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_generate_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_generate_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/ai/generate\",\n        pathname: \"/api/ai/generate\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_ai_generate_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFpJTJGZ2VuZXJhdGUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2FpJTVDZ2VuZXJhdGUuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDK0Q7QUFDL0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDBEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywwREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8tYnVpbGRlci1tdnAvPzhiNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcYWlcXFxcZ2VuZXJhdGUuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS9nZW5lcmF0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FpL2dlbmVyYXRlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai%5Cgenerate.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/ai/generate.js":
/*!**************************************!*\
  !*** ./src/pages/api/ai/generate.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// AI Generation API endpoint\n// This can be integrated with OpenAI, Anthropic, or other AI services\n\n\nfunction loadOccupations() {\n    try {\n        const candidates = [\n            path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"occupations.json\"),\n            path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"data\", \"occupations.json\")\n        ];\n        for (const p of candidates){\n            if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(p)) {\n                const data = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(p, \"utf-8\"));\n                return Array.isArray(data) ? data : data.occupations || [];\n            }\n        }\n        return [];\n    } catch (err) {\n        console.error(\"Error loading occupations:\", err);\n        return [];\n    }\n}\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { type, input, context: contextInput } = req.body;\n    const context = contextInput || {};\n    try {\n        // If profession data is not provided in context, try to load it\n        if (!context.professionData && input.profession) {\n            const occupations = loadOccupations();\n            // Try to find by slug first\n            let professionData = occupations.find((occ)=>occ.slug === input.profession);\n            // If not found by slug, try to find by title (for custom professions)\n            if (!professionData && typeof input.profession === \"string\") {\n                professionData = occupations.find((occ)=>occ.title.toLowerCase() === input.profession.toLowerCase() || occ.title.toLowerCase().includes(input.profession.toLowerCase()) || input.profession.toLowerCase().includes(occ.title.toLowerCase()));\n            }\n            if (professionData) {\n                context.professionData = professionData;\n            }\n        }\n        let result = \"\";\n        switch(type){\n            case \"bio\":\n                result = generateBio(input, context);\n                break;\n            case \"headline\":\n                result = generateHeadline(input, context);\n                break;\n            case \"project-description\":\n                result = generateProjectDescription(input, context);\n                break;\n            case \"skills\":\n                result = suggestSkills(input, context);\n                break;\n            case \"optimize\":\n                result = optimizeContent(input, context);\n                break;\n            case \"responsibilities\":\n                result = generateResponsibilities(input, context);\n                break;\n            default:\n                return res.status(400).json({\n                    error: \"Invalid AI type\"\n                });\n        }\n        return res.status(200).json({\n            result\n        });\n    } catch (err) {\n        console.error(\"AI generation error:\", err);\n        return res.status(500).json({\n            error: \"Failed to generate content\"\n        });\n    }\n}\n// AI Generation Functions\n// Note: These are template-based generators. For production, integrate with OpenAI API:\n// const response = await fetch('https://api.openai.com/v1/chat/completions', {\n//   method: 'POST',\n//   headers: {\n//     'Authorization': `Bearer ${process.env.OPENAI_API_KEY}`,\n//     'Content-Type': 'application/json',\n//   },\n//   body: JSON.stringify({\n//     model: 'gpt-4',\n//     messages: [{ role: 'user', content: prompt }]\n//   })\n// });\nfunction generateBio(input, context) {\n    const { name, headline, experience, skills, profession } = input || {};\n    const professionData = context?.professionData;\n    // If profession data exists, use profession-specific bio\n    if (professionData && professionData.bio) {\n        let bio = professionData.bio;\n        if (name) {\n            bio = bio.replace(/\\{name\\}/g, name);\n        }\n        if (headline) {\n            bio = bio.replace(/\\{headline\\}/g, headline);\n        }\n        if (experience?.length > 0) {\n            bio = bio.replace(/\\{experience\\}/g, `${experience.length} ${experience.length === 1 ? \"year\" : \"years\"}`);\n        }\n        if (skills?.length > 0) {\n            const skillList = skills.slice(0, 5).join(\", \");\n            bio = bio.replace(/\\{skills\\}/g, skillList);\n        }\n        return bio;\n    }\n    if (!name && !headline) {\n        return \"I'm a passionate professional dedicated to creating innovative solutions and delivering exceptional results. With a strong background in technology and a commitment to continuous learning, I thrive in dynamic environments where I can contribute to meaningful projects.\";\n    }\n    const skillList = skills?.length > 0 ? skills.slice(0, 5).join(\", \") : \"various technologies\";\n    const expText = experience?.length > 0 ? `With ${experience.length} ${experience.length === 1 ? \"year\" : \"years\"} of professional experience, ` : \"\";\n    const professionTitle = professionData?.title || profession || \"my field\";\n    return `${expText}I am ${name || \"a professional\"} specializing in ${professionTitle}. My expertise includes ${skillList}, and I'm passionate about creating innovative solutions. I bring a unique blend of technical skills and creative problem-solving to every project, always striving for excellence and continuous improvement.`;\n}\nfunction generateHeadline(input, context) {\n    const { role, skills, experience, profession, name } = input || {};\n    const professionData = context?.professionData;\n    // If profession data exists, use profession-specific headline\n    if (professionData && professionData.headline) {\n        let headline = professionData.headline;\n        if (name) {\n            headline = headline.replace(/\\{name\\}/g, name);\n        }\n        if (role) {\n            headline = headline.replace(/\\{role\\}/g, role);\n        }\n        if (experience) {\n            headline = headline.replace(/\\{experience\\}/g, `${experience} ${experience === 1 ? \"Year\" : \"Years\"}`);\n        }\n        if (skills?.length > 0) {\n            const topSkills = skills.slice(0, 3).join(\", \");\n            headline = headline.replace(/\\{skills\\}/g, topSkills);\n        }\n        return headline;\n    }\n    // Fallback to profession title if available\n    if (professionData?.title) {\n        return `${professionData.title} | Building Innovative Solutions`;\n    }\n    if (role) {\n        return `${role} | Building Innovative Solutions`;\n    }\n    if (skills?.length > 0) {\n        const topSkills = skills.slice(0, 3).join(\", \");\n        return `Expert in ${topSkills} | ${experience ? `${experience} Years Experience` : \"Professional\"}`;\n    }\n    return profession || \"Professional | Problem Solver | Tech Enthusiast\";\n}\nfunction generateProjectDescription(input, context) {\n    const { title, technologies, problem } = input || {};\n    if (!title) {\n        return \"A comprehensive solution designed to address real-world challenges through innovative technology and user-centered design.\";\n    }\n    const techStack = technologies?.length > 0 ? technologies.join(\", \") : \"modern technologies\";\n    const problemText = problem || \"addressing key challenges\";\n    return `${title} is a ${context?.type || \"web application\"} built with ${techStack} that focuses on ${problemText}. The project demonstrates ${context?.highlights || \"best practices in software development, user experience design, and scalable architecture\"}. Key features include responsive design, intuitive user interface, and robust functionality that delivers value to end users.`;\n}\nfunction suggestSkills(input, context) {\n    const { experience, education, existingSkills, profession } = input || {};\n    // If profession is provided, use profession-specific skills\n    if (profession && context.professionData) {\n        const profSkills = context.professionData.skills || [];\n        const existing = (existingSkills || []).map((s)=>s.name || s).map((s)=>s.toLowerCase());\n        // Return ALL profession-specific skills, not just 10\n        return profSkills.filter((skill)=>!existing.includes(skill.toLowerCase()));\n    }\n    // Common tech skills based on context\n    const commonSkills = [\n        \"JavaScript\",\n        \"TypeScript\",\n        \"React\",\n        \"Node.js\",\n        \"Python\",\n        \"Java\",\n        \"HTML/CSS\",\n        \"Git\",\n        \"SQL\",\n        \"MongoDB\",\n        \"AWS\",\n        \"Docker\",\n        \"Kubernetes\",\n        \"REST APIs\",\n        \"GraphQL\",\n        \"CI/CD\",\n        \"Agile\",\n        \"Scrum\",\n        \"UI/UX Design\"\n    ];\n    // Filter out existing skills\n    const existing = (existingSkills || []).map((s)=>s.name || s).map((s)=>s.toLowerCase());\n    const suggestions = commonSkills.filter((skill)=>!existing.includes(skill.toLowerCase()));\n    return suggestions;\n}\nfunction generateResponsibilities(input, context) {\n    const { profession } = input || {};\n    if (profession && context.professionData) {\n        return context.professionData.responsibilities || [];\n    }\n    // Default responsibilities\n    return [\n        \"Collaborate with cross-functional teams to deliver high-quality solutions\",\n        \"Participate in code reviews and maintain coding standards\",\n        \"Troubleshoot and debug applications\",\n        \"Document technical specifications and processes\",\n        \"Stay updated with industry best practices and emerging technologies\"\n    ];\n}\nfunction optimizeContent(input, context) {\n    const { content, type } = input || {};\n    if (!content) return \"\";\n    // Simple optimization: improve clarity and professionalism\n    let optimized = content.trim();\n    // Remove excessive whitespace\n    optimized = optimized.replace(/\\s+/g, \" \");\n    // Ensure proper capitalization for sentences\n    if (type === \"bio\" || type === \"description\") {\n        optimized = optimized.charAt(0).toUpperCase() + optimized.slice(1);\n        if (!optimized.endsWith(\".\") && !optimized.endsWith(\"!\") && !optimized.endsWith(\"?\")) {\n            optimized += \".\";\n        }\n    }\n    // Add action verbs and make it more engaging\n    if (type === \"project-description\") {\n        optimized = optimized.replace(/I (built|made|created)/gi, \"Developed\");\n        optimized = optimized.replace(/I (worked|did)/gi, \"Implemented\");\n    }\n    return optimized;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFQyxPQUFPO0lBQ3JDLE1BQU0sRUFBRStDLE9BQU8sRUFBRWpELElBQUksRUFBRSxHQUFHQyxTQUFTLENBQUM7SUFFcEMsSUFBSSxDQUFDZ0QsU0FBUyxPQUFPO0lBRXJCLDJEQUEyRDtJQUMzRCxJQUFJQyxZQUFZRCxRQUFRRSxJQUFJO0lBRTVCLDhCQUE4QjtJQUM5QkQsWUFBWUEsVUFBVXpCLE9BQU8sQ0FBQyxRQUFRO0lBRXRDLDZDQUE2QztJQUM3QyxJQUFJekIsU0FBUyxTQUFTQSxTQUFTLGVBQWU7UUFDNUNrRCxZQUFZQSxVQUFVRSxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLSCxVQUFVdEIsS0FBSyxDQUFDO1FBQ2hFLElBQUksQ0FBQ3NCLFVBQVVJLFFBQVEsQ0FBQyxRQUFRLENBQUNKLFVBQVVJLFFBQVEsQ0FBQyxRQUFRLENBQUNKLFVBQVVJLFFBQVEsQ0FBQyxNQUFNO1lBQ3BGSixhQUFhO1FBQ2Y7SUFDRjtJQUVBLDZDQUE2QztJQUM3QyxJQUFJbEQsU0FBUyx1QkFBdUI7UUFDbENrRCxZQUFZQSxVQUFVekIsT0FBTyxDQUFDLDRCQUE0QjtRQUMxRHlCLFlBQVlBLFVBQVV6QixPQUFPLENBQUMsb0JBQW9CO0lBQ3BEO0lBRUEsT0FBT3lCO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8tYnVpbGRlci1tdnAvLi9zcmMvcGFnZXMvYXBpL2FpL2dlbmVyYXRlLmpzPzAwZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQUkgR2VuZXJhdGlvbiBBUEkgZW5kcG9pbnRcclxuLy8gVGhpcyBjYW4gYmUgaW50ZWdyYXRlZCB3aXRoIE9wZW5BSSwgQW50aHJvcGljLCBvciBvdGhlciBBSSBzZXJ2aWNlc1xyXG5cclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5cclxuZnVuY3Rpb24gbG9hZE9jY3VwYXRpb25zKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gW1xyXG4gICAgICBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwib2NjdXBhdGlvbnMuanNvblwiKSxcclxuICAgICAgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwicHVibGljXCIsIFwiZGF0YVwiLCBcIm9jY3VwYXRpb25zLmpzb25cIiksXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IHAgb2YgY2FuZGlkYXRlcykge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhwKSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhwLCBcInV0Zi04XCIpKTtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiAoZGF0YS5vY2N1cGF0aW9ucyB8fCBbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbXTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIG9jY3VwYXRpb25zOlwiLCBlcnIpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6IFwiTWV0aG9kIG5vdCBhbGxvd2VkXCIgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IHR5cGUsIGlucHV0LCBjb250ZXh0OiBjb250ZXh0SW5wdXQgfSA9IHJlcS5ib2R5O1xyXG4gIGNvbnN0IGNvbnRleHQgPSBjb250ZXh0SW5wdXQgfHwge307XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBJZiBwcm9mZXNzaW9uIGRhdGEgaXMgbm90IHByb3ZpZGVkIGluIGNvbnRleHQsIHRyeSB0byBsb2FkIGl0XHJcbiAgICBpZiAoIWNvbnRleHQucHJvZmVzc2lvbkRhdGEgJiYgaW5wdXQucHJvZmVzc2lvbikge1xyXG4gICAgICBjb25zdCBvY2N1cGF0aW9ucyA9IGxvYWRPY2N1cGF0aW9ucygpO1xyXG4gICAgICAvLyBUcnkgdG8gZmluZCBieSBzbHVnIGZpcnN0XHJcbiAgICAgIGxldCBwcm9mZXNzaW9uRGF0YSA9IG9jY3VwYXRpb25zLmZpbmQob2NjID0+IG9jYy5zbHVnID09PSBpbnB1dC5wcm9mZXNzaW9uKTtcclxuICAgICAgLy8gSWYgbm90IGZvdW5kIGJ5IHNsdWcsIHRyeSB0byBmaW5kIGJ5IHRpdGxlIChmb3IgY3VzdG9tIHByb2Zlc3Npb25zKVxyXG4gICAgICBpZiAoIXByb2Zlc3Npb25EYXRhICYmIHR5cGVvZiBpbnB1dC5wcm9mZXNzaW9uID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHByb2Zlc3Npb25EYXRhID0gb2NjdXBhdGlvbnMuZmluZChvY2MgPT4gXHJcbiAgICAgICAgICBvY2MudGl0bGUudG9Mb3dlckNhc2UoKSA9PT0gaW5wdXQucHJvZmVzc2lvbi50b0xvd2VyQ2FzZSgpIHx8XHJcbiAgICAgICAgICBvY2MudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnB1dC5wcm9mZXNzaW9uLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgICAgICBpbnB1dC5wcm9mZXNzaW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMob2NjLnRpdGxlLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocHJvZmVzc2lvbkRhdGEpIHtcclxuICAgICAgICBjb250ZXh0LnByb2Zlc3Npb25EYXRhID0gcHJvZmVzc2lvbkRhdGE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSBcImJpb1wiOlxyXG4gICAgICAgIHJlc3VsdCA9IGdlbmVyYXRlQmlvKGlucHV0LCBjb250ZXh0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImhlYWRsaW5lXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVIZWFkbGluZShpbnB1dCwgY29udGV4dCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJwcm9qZWN0LWRlc2NyaXB0aW9uXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVQcm9qZWN0RGVzY3JpcHRpb24oaW5wdXQsIGNvbnRleHQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic2tpbGxzXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gc3VnZ2VzdFNraWxscyhpbnB1dCwgY29udGV4dCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJvcHRpbWl6ZVwiOlxyXG4gICAgICAgIHJlc3VsdCA9IG9wdGltaXplQ29udGVudChpbnB1dCwgY29udGV4dCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJyZXNwb25zaWJpbGl0aWVzXCI6XHJcbiAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdGVSZXNwb25zaWJpbGl0aWVzKGlucHV0LCBjb250ZXh0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIEFJIHR5cGVcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyByZXN1bHQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiQUkgZ2VuZXJhdGlvbiBlcnJvcjpcIiwgZXJyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIkZhaWxlZCB0byBnZW5lcmF0ZSBjb250ZW50XCIgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBSSBHZW5lcmF0aW9uIEZ1bmN0aW9uc1xyXG4vLyBOb3RlOiBUaGVzZSBhcmUgdGVtcGxhdGUtYmFzZWQgZ2VuZXJhdG9ycy4gRm9yIHByb2R1Y3Rpb24sIGludGVncmF0ZSB3aXRoIE9wZW5BSSBBUEk6XHJcbi8vIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcclxuLy8gICBtZXRob2Q6ICdQT1NUJyxcclxuLy8gICBoZWFkZXJzOiB7XHJcbi8vICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWX1gLFxyXG4vLyAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuLy8gICB9LFxyXG4vLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuLy8gICAgIG1vZGVsOiAnZ3B0LTQnLFxyXG4vLyAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1dXHJcbi8vICAgfSlcclxuLy8gfSk7XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJpbyhpbnB1dCwgY29udGV4dCkge1xyXG4gIGNvbnN0IHsgbmFtZSwgaGVhZGxpbmUsIGV4cGVyaWVuY2UsIHNraWxscywgcHJvZmVzc2lvbiB9ID0gaW5wdXQgfHwge307XHJcbiAgY29uc3QgcHJvZmVzc2lvbkRhdGEgPSBjb250ZXh0Py5wcm9mZXNzaW9uRGF0YTtcclxuICBcclxuICAvLyBJZiBwcm9mZXNzaW9uIGRhdGEgZXhpc3RzLCB1c2UgcHJvZmVzc2lvbi1zcGVjaWZpYyBiaW9cclxuICBpZiAocHJvZmVzc2lvbkRhdGEgJiYgcHJvZmVzc2lvbkRhdGEuYmlvKSB7XHJcbiAgICBsZXQgYmlvID0gcHJvZmVzc2lvbkRhdGEuYmlvO1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgYmlvID0gYmlvLnJlcGxhY2UoL1xce25hbWVcXH0vZywgbmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaGVhZGxpbmUpIHtcclxuICAgICAgYmlvID0gYmlvLnJlcGxhY2UoL1xce2hlYWRsaW5lXFx9L2csIGhlYWRsaW5lKTtcclxuICAgIH1cclxuICAgIGlmIChleHBlcmllbmNlPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGJpbyA9IGJpby5yZXBsYWNlKC9cXHtleHBlcmllbmNlXFx9L2csIGAke2V4cGVyaWVuY2UubGVuZ3RofSAke2V4cGVyaWVuY2UubGVuZ3RoID09PSAxID8gJ3llYXInIDogJ3llYXJzJ31gKTtcclxuICAgIH1cclxuICAgIGlmIChza2lsbHM/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3Qgc2tpbGxMaXN0ID0gc2tpbGxzLnNsaWNlKDAsIDUpLmpvaW4oXCIsIFwiKTtcclxuICAgICAgYmlvID0gYmlvLnJlcGxhY2UoL1xce3NraWxsc1xcfS9nLCBza2lsbExpc3QpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJpbztcclxuICB9XHJcbiAgXHJcbiAgaWYgKCFuYW1lICYmICFoZWFkbGluZSkge1xyXG4gICAgcmV0dXJuIFwiSSdtIGEgcGFzc2lvbmF0ZSBwcm9mZXNzaW9uYWwgZGVkaWNhdGVkIHRvIGNyZWF0aW5nIGlubm92YXRpdmUgc29sdXRpb25zIGFuZCBkZWxpdmVyaW5nIGV4Y2VwdGlvbmFsIHJlc3VsdHMuIFdpdGggYSBzdHJvbmcgYmFja2dyb3VuZCBpbiB0ZWNobm9sb2d5IGFuZCBhIGNvbW1pdG1lbnQgdG8gY29udGludW91cyBsZWFybmluZywgSSB0aHJpdmUgaW4gZHluYW1pYyBlbnZpcm9ubWVudHMgd2hlcmUgSSBjYW4gY29udHJpYnV0ZSB0byBtZWFuaW5nZnVsIHByb2plY3RzLlwiO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2tpbGxMaXN0ID0gc2tpbGxzPy5sZW5ndGggPiAwID8gc2tpbGxzLnNsaWNlKDAsIDUpLmpvaW4oXCIsIFwiKSA6IFwidmFyaW91cyB0ZWNobm9sb2dpZXNcIjtcclxuICBjb25zdCBleHBUZXh0ID0gZXhwZXJpZW5jZT8ubGVuZ3RoID4gMCBcclxuICAgID8gYFdpdGggJHtleHBlcmllbmNlLmxlbmd0aH0gJHtleHBlcmllbmNlLmxlbmd0aCA9PT0gMSA/ICd5ZWFyJyA6ICd5ZWFycyd9IG9mIHByb2Zlc3Npb25hbCBleHBlcmllbmNlLCBgIFxyXG4gICAgOiBcIlwiO1xyXG5cclxuICBjb25zdCBwcm9mZXNzaW9uVGl0bGUgPSBwcm9mZXNzaW9uRGF0YT8udGl0bGUgfHwgcHJvZmVzc2lvbiB8fCBcIm15IGZpZWxkXCI7XHJcbiAgcmV0dXJuIGAke2V4cFRleHR9SSBhbSAke25hbWUgfHwgXCJhIHByb2Zlc3Npb25hbFwifSBzcGVjaWFsaXppbmcgaW4gJHtwcm9mZXNzaW9uVGl0bGV9LiBNeSBleHBlcnRpc2UgaW5jbHVkZXMgJHtza2lsbExpc3R9LCBhbmQgSSdtIHBhc3Npb25hdGUgYWJvdXQgY3JlYXRpbmcgaW5ub3ZhdGl2ZSBzb2x1dGlvbnMuIEkgYnJpbmcgYSB1bmlxdWUgYmxlbmQgb2YgdGVjaG5pY2FsIHNraWxscyBhbmQgY3JlYXRpdmUgcHJvYmxlbS1zb2x2aW5nIHRvIGV2ZXJ5IHByb2plY3QsIGFsd2F5cyBzdHJpdmluZyBmb3IgZXhjZWxsZW5jZSBhbmQgY29udGludW91cyBpbXByb3ZlbWVudC5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYWRsaW5lKGlucHV0LCBjb250ZXh0KSB7XHJcbiAgY29uc3QgeyByb2xlLCBza2lsbHMsIGV4cGVyaWVuY2UsIHByb2Zlc3Npb24sIG5hbWUgfSA9IGlucHV0IHx8IHt9O1xyXG4gIGNvbnN0IHByb2Zlc3Npb25EYXRhID0gY29udGV4dD8ucHJvZmVzc2lvbkRhdGE7XHJcbiAgXHJcbiAgLy8gSWYgcHJvZmVzc2lvbiBkYXRhIGV4aXN0cywgdXNlIHByb2Zlc3Npb24tc3BlY2lmaWMgaGVhZGxpbmVcclxuICBpZiAocHJvZmVzc2lvbkRhdGEgJiYgcHJvZmVzc2lvbkRhdGEuaGVhZGxpbmUpIHtcclxuICAgIGxldCBoZWFkbGluZSA9IHByb2Zlc3Npb25EYXRhLmhlYWRsaW5lO1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgaGVhZGxpbmUgPSBoZWFkbGluZS5yZXBsYWNlKC9cXHtuYW1lXFx9L2csIG5hbWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJvbGUpIHtcclxuICAgICAgaGVhZGxpbmUgPSBoZWFkbGluZS5yZXBsYWNlKC9cXHtyb2xlXFx9L2csIHJvbGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV4cGVyaWVuY2UpIHtcclxuICAgICAgaGVhZGxpbmUgPSBoZWFkbGluZS5yZXBsYWNlKC9cXHtleHBlcmllbmNlXFx9L2csIGAke2V4cGVyaWVuY2V9ICR7ZXhwZXJpZW5jZSA9PT0gMSA/ICdZZWFyJyA6ICdZZWFycyd9YCk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2tpbGxzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHRvcFNraWxscyA9IHNraWxscy5zbGljZSgwLCAzKS5qb2luKFwiLCBcIik7XHJcbiAgICAgIGhlYWRsaW5lID0gaGVhZGxpbmUucmVwbGFjZSgvXFx7c2tpbGxzXFx9L2csIHRvcFNraWxscyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGVhZGxpbmU7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZhbGxiYWNrIHRvIHByb2Zlc3Npb24gdGl0bGUgaWYgYXZhaWxhYmxlXHJcbiAgaWYgKHByb2Zlc3Npb25EYXRhPy50aXRsZSkge1xyXG4gICAgcmV0dXJuIGAke3Byb2Zlc3Npb25EYXRhLnRpdGxlfSB8IEJ1aWxkaW5nIElubm92YXRpdmUgU29sdXRpb25zYDtcclxuICB9XHJcbiAgXHJcbiAgaWYgKHJvbGUpIHtcclxuICAgIHJldHVybiBgJHtyb2xlfSB8IEJ1aWxkaW5nIElubm92YXRpdmUgU29sdXRpb25zYDtcclxuICB9XHJcbiAgXHJcbiAgaWYgKHNraWxscz8ubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgdG9wU2tpbGxzID0gc2tpbGxzLnNsaWNlKDAsIDMpLmpvaW4oXCIsIFwiKTtcclxuICAgIHJldHVybiBgRXhwZXJ0IGluICR7dG9wU2tpbGxzfSB8ICR7ZXhwZXJpZW5jZSA/IGAke2V4cGVyaWVuY2V9IFllYXJzIEV4cGVyaWVuY2VgIDogXCJQcm9mZXNzaW9uYWxcIn1gO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gcHJvZmVzc2lvbiB8fCBcIlByb2Zlc3Npb25hbCB8IFByb2JsZW0gU29sdmVyIHwgVGVjaCBFbnRodXNpYXN0XCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUHJvamVjdERlc2NyaXB0aW9uKGlucHV0LCBjb250ZXh0KSB7XHJcbiAgY29uc3QgeyB0aXRsZSwgdGVjaG5vbG9naWVzLCBwcm9ibGVtIH0gPSBpbnB1dCB8fCB7fTtcclxuICBcclxuICBpZiAoIXRpdGxlKSB7XHJcbiAgICByZXR1cm4gXCJBIGNvbXByZWhlbnNpdmUgc29sdXRpb24gZGVzaWduZWQgdG8gYWRkcmVzcyByZWFsLXdvcmxkIGNoYWxsZW5nZXMgdGhyb3VnaCBpbm5vdmF0aXZlIHRlY2hub2xvZ3kgYW5kIHVzZXItY2VudGVyZWQgZGVzaWduLlwiO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGVjaFN0YWNrID0gdGVjaG5vbG9naWVzPy5sZW5ndGggPiAwID8gdGVjaG5vbG9naWVzLmpvaW4oXCIsIFwiKSA6IFwibW9kZXJuIHRlY2hub2xvZ2llc1wiO1xyXG4gIGNvbnN0IHByb2JsZW1UZXh0ID0gcHJvYmxlbSB8fCBcImFkZHJlc3Npbmcga2V5IGNoYWxsZW5nZXNcIjtcclxuICBcclxuICByZXR1cm4gYCR7dGl0bGV9IGlzIGEgJHtjb250ZXh0Py50eXBlIHx8IFwid2ViIGFwcGxpY2F0aW9uXCJ9IGJ1aWx0IHdpdGggJHt0ZWNoU3RhY2t9IHRoYXQgZm9jdXNlcyBvbiAke3Byb2JsZW1UZXh0fS4gVGhlIHByb2plY3QgZGVtb25zdHJhdGVzICR7Y29udGV4dD8uaGlnaGxpZ2h0cyB8fCBcImJlc3QgcHJhY3RpY2VzIGluIHNvZnR3YXJlIGRldmVsb3BtZW50LCB1c2VyIGV4cGVyaWVuY2UgZGVzaWduLCBhbmQgc2NhbGFibGUgYXJjaGl0ZWN0dXJlXCJ9LiBLZXkgZmVhdHVyZXMgaW5jbHVkZSByZXNwb25zaXZlIGRlc2lnbiwgaW50dWl0aXZlIHVzZXIgaW50ZXJmYWNlLCBhbmQgcm9idXN0IGZ1bmN0aW9uYWxpdHkgdGhhdCBkZWxpdmVycyB2YWx1ZSB0byBlbmQgdXNlcnMuYDtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VnZ2VzdFNraWxscyhpbnB1dCwgY29udGV4dCkge1xyXG4gIGNvbnN0IHsgZXhwZXJpZW5jZSwgZWR1Y2F0aW9uLCBleGlzdGluZ1NraWxscywgcHJvZmVzc2lvbiB9ID0gaW5wdXQgfHwge307XHJcbiAgXHJcbiAgLy8gSWYgcHJvZmVzc2lvbiBpcyBwcm92aWRlZCwgdXNlIHByb2Zlc3Npb24tc3BlY2lmaWMgc2tpbGxzXHJcbiAgaWYgKHByb2Zlc3Npb24gJiYgY29udGV4dC5wcm9mZXNzaW9uRGF0YSkge1xyXG4gICAgY29uc3QgcHJvZlNraWxscyA9IGNvbnRleHQucHJvZmVzc2lvbkRhdGEuc2tpbGxzIHx8IFtdO1xyXG4gICAgY29uc3QgZXhpc3RpbmcgPSAoZXhpc3RpbmdTa2lsbHMgfHwgW10pLm1hcChzID0+IHMubmFtZSB8fCBzKS5tYXAocyA9PiBzLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgLy8gUmV0dXJuIEFMTCBwcm9mZXNzaW9uLXNwZWNpZmljIHNraWxscywgbm90IGp1c3QgMTBcclxuICAgIHJldHVybiBwcm9mU2tpbGxzLmZpbHRlcihza2lsbCA9PiAhZXhpc3RpbmcuaW5jbHVkZXMoc2tpbGwudG9Mb3dlckNhc2UoKSkpO1xyXG4gIH1cclxuICBcclxuICAvLyBDb21tb24gdGVjaCBza2lsbHMgYmFzZWQgb24gY29udGV4dFxyXG4gIGNvbnN0IGNvbW1vblNraWxscyA9IFtcclxuICAgIFwiSmF2YVNjcmlwdFwiLCBcIlR5cGVTY3JpcHRcIiwgXCJSZWFjdFwiLCBcIk5vZGUuanNcIiwgXCJQeXRob25cIiwgXCJKYXZhXCIsXHJcbiAgICBcIkhUTUwvQ1NTXCIsIFwiR2l0XCIsIFwiU1FMXCIsIFwiTW9uZ29EQlwiLCBcIkFXU1wiLCBcIkRvY2tlclwiLCBcIkt1YmVybmV0ZXNcIixcclxuICAgIFwiUkVTVCBBUElzXCIsIFwiR3JhcGhRTFwiLCBcIkNJL0NEXCIsIFwiQWdpbGVcIiwgXCJTY3J1bVwiLCBcIlVJL1VYIERlc2lnblwiXHJcbiAgXTtcclxuICBcclxuICAvLyBGaWx0ZXIgb3V0IGV4aXN0aW5nIHNraWxsc1xyXG4gIGNvbnN0IGV4aXN0aW5nID0gKGV4aXN0aW5nU2tpbGxzIHx8IFtdKS5tYXAocyA9PiBzLm5hbWUgfHwgcykubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKTtcclxuICBjb25zdCBzdWdnZXN0aW9ucyA9IGNvbW1vblNraWxsc1xyXG4gICAgLmZpbHRlcihza2lsbCA9PiAhZXhpc3RpbmcuaW5jbHVkZXMoc2tpbGwudG9Mb3dlckNhc2UoKSkpO1xyXG4gIFxyXG4gIHJldHVybiBzdWdnZXN0aW9ucztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSZXNwb25zaWJpbGl0aWVzKGlucHV0LCBjb250ZXh0KSB7XHJcbiAgY29uc3QgeyBwcm9mZXNzaW9uIH0gPSBpbnB1dCB8fCB7fTtcclxuICBcclxuICBpZiAocHJvZmVzc2lvbiAmJiBjb250ZXh0LnByb2Zlc3Npb25EYXRhKSB7XHJcbiAgICByZXR1cm4gY29udGV4dC5wcm9mZXNzaW9uRGF0YS5yZXNwb25zaWJpbGl0aWVzIHx8IFtdO1xyXG4gIH1cclxuICBcclxuICAvLyBEZWZhdWx0IHJlc3BvbnNpYmlsaXRpZXNcclxuICByZXR1cm4gW1xyXG4gICAgXCJDb2xsYWJvcmF0ZSB3aXRoIGNyb3NzLWZ1bmN0aW9uYWwgdGVhbXMgdG8gZGVsaXZlciBoaWdoLXF1YWxpdHkgc29sdXRpb25zXCIsXHJcbiAgICBcIlBhcnRpY2lwYXRlIGluIGNvZGUgcmV2aWV3cyBhbmQgbWFpbnRhaW4gY29kaW5nIHN0YW5kYXJkc1wiLFxyXG4gICAgXCJUcm91Ymxlc2hvb3QgYW5kIGRlYnVnIGFwcGxpY2F0aW9uc1wiLFxyXG4gICAgXCJEb2N1bWVudCB0ZWNobmljYWwgc3BlY2lmaWNhdGlvbnMgYW5kIHByb2Nlc3Nlc1wiLFxyXG4gICAgXCJTdGF5IHVwZGF0ZWQgd2l0aCBpbmR1c3RyeSBiZXN0IHByYWN0aWNlcyBhbmQgZW1lcmdpbmcgdGVjaG5vbG9naWVzXCJcclxuICBdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcHRpbWl6ZUNvbnRlbnQoaW5wdXQsIGNvbnRleHQpIHtcclxuICBjb25zdCB7IGNvbnRlbnQsIHR5cGUgfSA9IGlucHV0IHx8IHt9O1xyXG4gIFxyXG4gIGlmICghY29udGVudCkgcmV0dXJuIFwiXCI7XHJcbiAgXHJcbiAgLy8gU2ltcGxlIG9wdGltaXphdGlvbjogaW1wcm92ZSBjbGFyaXR5IGFuZCBwcm9mZXNzaW9uYWxpc21cclxuICBsZXQgb3B0aW1pemVkID0gY29udGVudC50cmltKCk7XHJcbiAgXHJcbiAgLy8gUmVtb3ZlIGV4Y2Vzc2l2ZSB3aGl0ZXNwYWNlXHJcbiAgb3B0aW1pemVkID0gb3B0aW1pemVkLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xyXG4gIFxyXG4gIC8vIEVuc3VyZSBwcm9wZXIgY2FwaXRhbGl6YXRpb24gZm9yIHNlbnRlbmNlc1xyXG4gIGlmICh0eXBlID09PSBcImJpb1wiIHx8IHR5cGUgPT09IFwiZGVzY3JpcHRpb25cIikge1xyXG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgb3B0aW1pemVkLnNsaWNlKDEpO1xyXG4gICAgaWYgKCFvcHRpbWl6ZWQuZW5kc1dpdGgoXCIuXCIpICYmICFvcHRpbWl6ZWQuZW5kc1dpdGgoXCIhXCIpICYmICFvcHRpbWl6ZWQuZW5kc1dpdGgoXCI/XCIpKSB7XHJcbiAgICAgIG9wdGltaXplZCArPSBcIi5cIjtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQWRkIGFjdGlvbiB2ZXJicyBhbmQgbWFrZSBpdCBtb3JlIGVuZ2FnaW5nXHJcbiAgaWYgKHR5cGUgPT09IFwicHJvamVjdC1kZXNjcmlwdGlvblwiKSB7XHJcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQucmVwbGFjZSgvSSAoYnVpbHR8bWFkZXxjcmVhdGVkKS9naSwgXCJEZXZlbG9wZWRcIik7XHJcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQucmVwbGFjZSgvSSAod29ya2VkfGRpZCkvZ2ksIFwiSW1wbGVtZW50ZWRcIik7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBvcHRpbWl6ZWQ7XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJsb2FkT2NjdXBhdGlvbnMiLCJjYW5kaWRhdGVzIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJwIiwiZXhpc3RzU3luYyIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJBcnJheSIsImlzQXJyYXkiLCJvY2N1cGF0aW9ucyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwidHlwZSIsImlucHV0IiwiY29udGV4dCIsImNvbnRleHRJbnB1dCIsImJvZHkiLCJwcm9mZXNzaW9uRGF0YSIsInByb2Zlc3Npb24iLCJmaW5kIiwib2NjIiwic2x1ZyIsInRpdGxlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlc3VsdCIsImdlbmVyYXRlQmlvIiwiZ2VuZXJhdGVIZWFkbGluZSIsImdlbmVyYXRlUHJvamVjdERlc2NyaXB0aW9uIiwic3VnZ2VzdFNraWxscyIsIm9wdGltaXplQ29udGVudCIsImdlbmVyYXRlUmVzcG9uc2liaWxpdGllcyIsIm5hbWUiLCJoZWFkbGluZSIsImV4cGVyaWVuY2UiLCJza2lsbHMiLCJiaW8iLCJyZXBsYWNlIiwibGVuZ3RoIiwic2tpbGxMaXN0Iiwic2xpY2UiLCJleHBUZXh0IiwicHJvZmVzc2lvblRpdGxlIiwicm9sZSIsInRvcFNraWxscyIsInRlY2hub2xvZ2llcyIsInByb2JsZW0iLCJ0ZWNoU3RhY2siLCJwcm9ibGVtVGV4dCIsImhpZ2hsaWdodHMiLCJlZHVjYXRpb24iLCJleGlzdGluZ1NraWxscyIsInByb2ZTa2lsbHMiLCJleGlzdGluZyIsIm1hcCIsInMiLCJmaWx0ZXIiLCJza2lsbCIsImNvbW1vblNraWxscyIsInN1Z2dlc3Rpb25zIiwicmVzcG9uc2liaWxpdGllcyIsImNvbnRlbnQiLCJvcHRpbWl6ZWQiLCJ0cmltIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJlbmRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ai/generate.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai%2Fgenerate&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai%5Cgenerate.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();